<!DOCTYPE html>
<head>
<title>Platformer Test v0.1</title>
</head>
<body style="overflow: hidden; background-color: #000000; height: 100000px;">
<div class="playarea" style="z-index: 0; display: inline-block; width: 10000px; height: 1000px; background-color: #FFFFFF; position: absolute; left: 0px; top: 4500px;"></div>
<div style="position: absolute; left: 4980px; top: 5000px; " id="playerspawn"><div style="z-index: 999999; display: inline-block; width: 30px; height: 30px; background-color: #666666; position: absolute; left: 7px; top: 57px; opacity: 66%;"></div><div class="collision" id="spawnground" style="z-index: 3; display: inline-block; width: 40px; height: 3px; background-color: #222222; position: absolute; left: 2px; top: 87px;"><div class="hitbox" style="opacity: 0; z-index: 3; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div><div class="collision" id="spawnceiling" style="z-index: 3; display: inline-block; width: 30px; height: 5px; background-color: #222222; position: absolute; left: 7px; top: 52px;"><div class="hitbox" style="opacity: 0; z-index: 3; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div></div>
<div class="portal" style="position: absolute; left: 4900px; top: 5000px;" id="playerportal1"><div id="noteleport1spam" style="z-index: 999999; display: inline-block; width: 30px; height: 30px; background-color: #4444AA; position: absolute; left: 7px; top: 57px; opacity: 66%;"></div><div class="teleportera" id="portalno1a" style="z-index: 3; display: inline-block; width: 2px; height: 20px; background-color: #4444AA; position: absolute; left: 30px; top: 67px; opacity: 66%;"></div><div class="teleporterb" id="portalno1b" style="z-index: 3; display: inline-block; width: 2px; height: 20px; background-color: #4444AA; position: absolute; left: 12px; top: 67px; opacity: 66%;"></div><div class="collision" id="portal1ground" style="z-index: 3; display: inline-block; width: 40px; height: 3px; background-color: #000066; position: absolute; left: 2px; top: 87px;"><div class="hitbox" style="opacity: 0; z-index: 3; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div><div class="collision" id="portal1ceiling" style="z-index: 3; display: inline-block; width: 30px; height: 5px; background-color: #000066; position: absolute; left: 7px; top: 52px;"><div class="hitbox" style="opacity: 0; z-index: 3; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div><button id="firstspawn" onclick="spawn()" style="display: inline-block; width: 80px; left: 0px; position: relative; top: -162px; left: -30px; text-align: center; ">spawn</button></div>
<div class="portal" style="position: absolute; left: 5060px; top: 5000px;" id="playerportal2"><div id="noteleport2spam" style="z-index: 999999; display: inline-block; width: 30px; height: 30px; background-color: #AA4444; position: absolute; left: 7px; top: 57px; opacity: 66%;"></div><div class="teleportera" id="portalno2a" style="display: inline-block; width: 2px; height: 20px; background-color: #AA4444; position: absolute; left: 30px; top: 67px; opacity: 66%;"></div><div class="teleporterb" id="portalno2b" style="display: inline-block; width: 2px; height: 20px; background-color: #AA4444; position: absolute; left: 12px; top: 67px; opacity: 66%;"></div><div class="collision" id="portal2ground" style="z-index: 3; display: inline-block; width: 40px; height: 3px; background-color: #660000; position: absolute; left: 2px; top: 87px;"><div class="hitbox" style="opacity: 0; z-index: 3; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div><div class="collision" id="portal2ceiling" style="z-index: 3; display: inline-block; width: 30px; height: 5px; background-color: #660000; position: absolute; left: 7px; top: 52px;"><div class="hitbox" style="opacity: 0; z-index: 3; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div></div>
<a id="player" style="z-index: 999; display: inline-block; width: 20px; height: 20px; background-color: transparent; position: absolute; left: -20px; top: -20px;"><div id="playerleftcollision" style="display: inline-block; width: 1px; height: 15px; background-color: #FF0000; position: relative; left: 0px; top: 2px"></div><div id="playerrightcollision" style="display: inline-block; width: 1px; height: 15px; background-color: #FF0000; left: 18px; position: relative; top: 2px"></div><div id="playergroundcollision" style="display: inline-block; width: 20px; height: 1px; background-color: #0088FF; left: 0px; position: relative; top: -13px"></div><div id="playerceilingcollision" style="display: inline-block; width: 18px; height: 1px; background-color: #0088FF; left: 1px; position: relative; top: -50px"></div><div id="playerwalkcollision" style="opacity: 0; z-index: unset; display: inline-block; width: 20px; height: 3px; background-color: #00FF00; left: 0px; position: relative; top: -46px;"></div><div id="speeddis" style="pointer-events: none; display: inline-block; width: 200px; position: relative; top: -102px; left: -90px; text-align: center; ">0</div><div id="movingdis" style="pointer-events: none; width: 200px; position: relative; left: -90px; text-align: center; top: -69px">0</div></a>
<button id="respawn" onclick="spawn()" style="display: none; width: 80px; position: fixed; top: 0px; left: 75px; text-align: center;">Respawn</button>
<a id="detectportal" style="border: 1px solid transparent; position: absolute; z-index: 1000; opacity: 50%; display: inline-block; width: 18px; height: 18px; position: absolute; left: 0px; top: 0px;"></a>
<div class="water" style="z-index: 1000; display: inline-block; width: 240px; height: 95px; position: absolute; left: 5000px; top: 5090px;"><a class="water" style="z-index: 1000; display: inline-block; width: 45px; height: 40px; opacity: 0; position: absolute; left: -45px; top: 55px;"></a><a style="z-index: 1000; display: inline-block; width: 110px; height: 85px; opacity: 0.25; background-color: #0044FF; position: absolute; left: 120px; top: 5px;"></a><a style="z-index: 1000; display: inline-block; width: 10px; height: 30px; opacity: 0.25; background-color: #0044FF; position: absolute; left: 110px; top: 10px;"></a><a style="z-index: 1000; display: inline-block; width: 10px; height: 30px; opacity: 0.25; background-color: #0044FF; position: absolute; left: 70px; top: 60px;"></a><a style="z-index: 1000; display: inline-block; width: 10px; height: 30px; opacity: 0.25; background-color: #0044FF; position: absolute; left: 30px; top: 10px;"></a><a style="z-index: 1000; display: inline-block; width: 10px; height: 30px; opacity: 0.25; background-color: #0044FF; position: absolute; left: -10px; top: 60px;"></a><a style="z-index: 1000; display: inline-block; width: 30px; height: 35px; opacity: 0.25; background-color: #0044FF; position: absolute; left: -40px; top: 55px;"></a><a style="z-index: 1000; display: inline-block; width: 30px; height: 80px; opacity: 0.25; background-color: #0044FF; position: absolute; left: 0px; top: 10px;"></a><a style="z-index: 1000; display: inline-block; width: 30px; height: 80px; opacity: 0.25; background-color: #0044FF; position: absolute; left: 40px; top: 10px;"></a><a style="z-index: 1000; display: inline-block; width: 30px; height: 80px; opacity: 0.25; background-color: #0044FF; position: absolute; left: 80px; top: 10px;"></a></div>
<div class="collision" style="z-index: 2; display: inline-block; width: 240px; height: 10px; background-color: #C8C8C8; position: absolute; left: 4880px; top: 5090px;"><div class="hitbox" style="opacity: 0; z-index: 2; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div>
<div class="collision" style="z-index: 2; display: inline-block; width: 360px; height: 10px; background-color: #C8C8C8; position: absolute; left: 4880px; top: 5180px;"><div class="hitbox" style="opacity: 0; z-index: 2; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div>
<div class="collision" style="z-index: 2; display: inline-block; width: 10px; height: 90px; background-color: #C8C8C8; position: absolute; left: 5230px; top: 5090px;"><div class="hitbox" style="opacity: 0; z-index: 2; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div>
<div class="collision" style="z-index: 2; display: inline-block; width: 10px; height: 50px; background-color: #C8C8C8; position: absolute; left: 4990px; top: 5100px;"><div class="hitbox" style="opacity: 0; z-index: 2; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div>
<div class="collision" style="z-index: 2; display: inline-block; width: 10px; height: 50px; background-color: #C8C8C8; position: absolute; left: 5030px; top: 5130px;"><div class="hitbox" style="opacity: 0; z-index: 2; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div>
<div class="collision" style="z-index: 2; display: inline-block; width: 10px; height: 50px; background-color: #C8C8C8; position: absolute; left: 5110px; top: 5130px;"><div class="hitbox" style="opacity: 0; z-index: 2; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div>
<div class="collision" style="z-index: 2; display: inline-block; width: 10px; height: 50px; background-color: #C8C8C8; position: absolute; left: 5070px; top: 5100px;"><div class="hitbox" style="opacity: 0; z-index: 2; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div>
<div class="collision" style="z-index: 2; display: inline-block; width: 10px; height: 80px; background-color: #C8C8C8; position: absolute; left: 4880px; top: 5100px;"><div class="hitbox" style="opacity: 0; z-index: 2; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div>
<div class="collision" style="z-index: 2; display: inline-block; width: 10px; height: 40px; background-color: #C8C8C8; position: absolute; left: 4950px; top: 5140px;"><div class="hitbox" style="opacity: 0; z-index: 2; position: absolute; width: calc(100% - 2px); height: calc(100% - 2px); background-color: transparent; border: 1px #FF0000 solid; left: 0px; top: 0px;"></div></div>
<div id="tempfakewall" style="z-index: 1000; display: inline-block; width: 30px; height: 10px; background-color: #C8C8C8; position: absolute; left: 4960px; top: 5140px;"></div>
<div class="fakewall" style="z-index: 1000; display: inline-block; width: 30px; height: 30px; background-color: #C8C8C8; position: absolute; left: 4960px; top: 5150px;"></div>
<div class="fakewall" style="z-index: 1000; display: inline-block; width: 10px; height: 30px; background-color: #C8C8C8; position: absolute; left: 4990px; top: 5150px;"></div>
<div class="fakewall" style="z-index: 1000; display: inline-block; width: 30px; height: 80px; background-color: #C8C8C8; position: absolute; left: 5000px; top: 5100px;"></div>
<div class="fakewall" style="z-index: 1000; display: inline-block; width: 10px; height: 30px; background-color: #C8C8C8; position: absolute; left: 5030px; top: 5100px;"></div>
<div class="fakewall" style="z-index: 1000; display: inline-block; width: 30px; height: 80px; background-color: #C8C8C8; position: absolute; left: 5040px; top: 5100px;"></div>
<div class="fakewall" style="z-index: 1000; display: inline-block; width: 10px; height: 30px; background-color: #C8C8C8; position: absolute; left: 5070px; top: 5150px;"></div>
<div class="fakewall" style="z-index: 1000; display: inline-block; width: 30px; height: 80px; background-color: #C8C8C8; position: absolute; left: 5080px; top: 5100px;"></div>
<div style="z-index: 1000; display: inline-block; width: 10px; height: 30px; background-color: #C8C8C8; position: absolute; left: 5110px; top: 5100px;"></div>
<a style="pointer-events: none;">
<div style="pointer-events: none; position: fixed; z-index: 255;" id="healthbar">
<svg id="HEART1" fill="#FF0000" style="position: fixed; top: 0px; left: 0px; "><path d="m 12 4.248 c -3.148 -5.402 -12 -3.825 -12 2.944 c 0 3.661 2 4.9 3 6 l 9 0 z"></path></svg><svg id="HEART4" fill="#FF0000" style="position: fixed; top: 0px; left: 0px;"><path d="m 12 4.248 c 3.148 -5.402 12 -3.825 12 2.944 c 0 3.661 -2 4.9 -3 6 l -9 0 z "></path></svg><svg id="HEART2" fill="#FF0000" style="position: fixed; top: 13px; left: 2px;"><path d="m 10 0 m -9 0 L 10 0 l 0 7 z"></path></svg><svg id="HEART3" fill="#FF0000" style="position: fixed; top: 13px; left: 2px;"><path d="m 10 0 m 9 0 L 10 0 l 0 7 z"></path></svg></div>
<div style="position: fixed; z-index: 255;"><svg id="HEART5" fill="#FF0000" style="position: fixed; top: 0px; left: 25px; "><path d="m 12 4.248 c -3.148 -5.402 -12 -3.825 -12 2.944 c 0 3.661 2 4.9 3 6 l 9 0 z"></path></svg><svg id="HEART8" fill="#FF0000" style="position: fixed; top: 0px; left: 25px;"><path d="m 12 4.248 c 3.148 -5.402 12 -3.825 12 2.944 c 0 3.661 -2 4.9 -3 6 l -9 0 z "></path></svg><svg id="HEART6" fill="#FF0000" style="position: fixed; top: 13px; left: 27px;"><path d="m 10 0 m -9 0 L 10 0 l 0 7 z"></path></svg><svg id="HEART7" fill="#FF0000" style="position: fixed; top: 13px; left: 27px;"><path d="m 10 0 m 9 0 L 10 0 l 0 7 z"></path></svg></div>
<div style="position: fixed; z-index: 255;"><svg id="HEART9" fill="#FF0000" style="position: fixed; top: 0px; left: 50px; "><path d="m 12 4.248 c -3.148 -5.402 -12 -3.825 -12 2.944 c 0 3.661 2 4.9 3 6 l 9 0 z"></path></svg><svg id="HEART12" fill="#FF0000" style="position: fixed; top: 0px; left: 50px;"><path d="m 12 4.248 c 3.148 -5.402 12 -3.825 12 2.944 c 0 3.661 -2 4.9 -3 6 l -9 0 z "></path></svg><svg id="HEART10" fill="#FF0000" style="position: fixed; top: 13px; left: 52px;"><path d="m 10 0 m -9 0 L 10 0 l 0 7 z"></path></svg><svg id="HEART11" fill="#FF0000" style="position: fixed; top: 13px; left: 52px;"><path d="m 10 0 m 9 0 L 10 0 l 0 7 z"></path></svg></div>
<div style="position: fixed; z-index: 255;"><svg id="ABSHEART1" fill="transparent" style="position: fixed; top: 0px; left: 75px; "><path d="m 12 4.248 c -3.148 -5.402 -12 -3.825 -12 2.944 c 0 3.661 2 4.9 3 6 l 9 0 z"></path></svg><svg id="ABSHEART4" fill="transparent" style="position: fixed; top: 0px; left: 75px;"><path d="m 12 4.248 c 3.148 -5.402 12 -3.825 12 2.944 c 0 3.661 -2 4.9 -3 6 l -9 0 z "></path></svg><svg id="ABSHEART2" fill="transparent" style="position: fixed; top: 13px; left: 77px;"><path d="m 10 0 m -9 0 L 10 0 l 0 7 z"></path></svg><svg id="ABSHEART3" fill="transparent" style="position: fixed; top: 13px; left: 77px;"><path d="m 10 0 m 9 0 L 10 0 l 0 7 z"></path></svg></div>
<div style="position: fixed; z-index: 255;"><svg id="ABSHEART5" fill="transparent" style="position: fixed; top: 0px; left: 100px; "><path d="m 12 4.248 c -3.148 -5.402 -12 -3.825 -12 2.944 c 0 3.661 2 4.9 3 6 l 9 0 z"></path></svg><svg id="ABSHEART8" fill="transparent" style="position: fixed; top: 0px; left: 100px;"><path d="m 12 4.248 c 3.148 -5.402 12 -3.825 12 2.944 c 0 3.661 -2 4.9 -3 6 l -9 0 z "></path></svg><svg id="ABSHEART6" fill="transparent" style="position: fixed; top: 13px; left: 102px;"><path d="m 10 0 m -9 0 L 10 0 l 0 7 z"></path></svg><svg id="ABSHEART7" fill="transparent" style="position: fixed; top: 13px; left: 102px;"><path d="m 10 0 m 9 0 L 10 0 l 0 7 z"></path></svg></div>
<div style="position: fixed; z-index: 255;"><svg id="ABSHEART9" fill="transparent" style="position: fixed; top: 0px; left: 125px; "><path d="m 12 4.248 c -3.148 -5.402 -12 -3.825 -12 2.944 c 0 3.661 2 4.9 3 6 l 9 0 z"></path></svg><svg id="ABSHEART12" fill="transparent" style="position: fixed; top: 0px; left: 125px;"><path d="m 12 4.248 c 3.148 -5.402 12 -3.825 12 2.944 c 0 3.661 -2 4.9 -3 6 l -9 0 z "></path></svg><svg id="ABSHEART10" fill="transparent" style="position: fixed; top: 13px; left: 127px;"><path d="m 10 0 m -9 0 L 10 0 l 0 7 z"></path></svg><svg id="ABSHEART11" fill="transparent" style="position: fixed; top: 13px; left: 127px;"><path d="m 10 0 m 9 0 L 10 0 l 0 7 z"></path></svg></div></a>
<a id="airtotal" style="z-index: 999999; display: inline-block; position: fixed; height: 5px; overflow: hidden; width: 75px; top: 20px; left: 0px; background-color: #000000"><a id="airamount" style="z-index: 9999999; display: inline-block; position: fixed; height: 5px; overflow: hidden; width: 75px; top: 20px; left: -75px; background-color: #008FFF"></a></a>
<a id="timer123"></a>
<a style="position: fixed; right: 0px; top: 0px; text-align: right;">
<div id="debug0"></div><div id="debug1"></div><div id="debug2"></div><div id="debug3"></div><div id="debug4"></div><div id="debug5"></div>
</a>

</body>
<script>
//debug
var debug=0           //DEBUG: shows collision. if 1, can use below
var playerheld=0      //DEBUG: is player being held?
var autospawn=0       //DEBUG: automatically spawn after death
var nograv=0          //DEBUG: force no gravity.
var debugspeed=25     //DEBUG: set speed lol sonic (higher=slower, do NOT EVER set to 0)
var pickpos=0         //DEBUG: pickup position
var cursorx=0         //DEBUG: cursor x pos
var cursory=0         //DEBUG: cursor y pos
var freecam=0         //DEBUG: enables freecam button!
var scrolld=0         //DEBUG: direction of camera movement
var neverdie=0        //DEBUG: never ever die again! because dying is for LOSERS!!! (literally)
//player core (messing with this gives major changes! careful!)
var playerx=0         //player x pos
var playery=0         //player y pos
var spawns=0          //how many spawns?
var playersize=1      //changes your size.
var playeropps=1      //inverse of above
var playerw=0         //player width
var playerh=0         //player height
//player other properties
var air=0             //drown
var inwater=1         //can i breathe
var portaltouched=0   //which portal touched?
var justteleported=0  //did i just teleport?!?
var fullyinsidewall=0 //are you entirely inside a wall? if not, MOVE!
var keynumb=0         //what key pressed
var gravity=0         //gravity force (no longer) multiplier
var died=1            //die
var screenh=0          //how tall is the screen
var screenw=0          //how wide is the screen
//player movement properties
var isjumping=0       //am i jumping?
var canjump=0         //can i jump yet?
var playerxchange=0   //change in x
var playerychange=0   //change in y
var movement=0        //does movement
var moving=0          //is moving? 1 for right, -1 for left
var momentum=0        //horizontal speed
var jumpgrav=0        //jumping, duh
//player collision properties
var reveal1=0         //SHOW THYSELF!
var playercolliding=0 //is colliding with collision?
var lasttouched="none"//last element touched
var leftinwall=0      //left collision in wall
var rightinwall=0     //right collision in wall
var upinwall=0        //up collision in wall
var downinwall=0      //down collision in wall
var walking=0         //are ya on ground
//teleport stuff
var spawnx=0          //spawn x pos
var spawny=0          //spawn y pos
var teleporta=0       //left side?
var teleportb=0       //right side?
var teleportto=0      //teleport to where?
var portal1x=0        //where is the first teleporter x
var portal1y=0        //where is the first teleporter y
var portal2x=0        //where is the second teleporter x
var portal2y=0        //where is the second teleporter y
//math
var scroll1=0         //debugging (scroll /2 then /2)
var plyxchg=0         //x change, for scroll check
var plylasx=0         //player last x pos since scroll check
var debuginvert=0     //name says it all no need
//scrolling
var scrolle=0         //scroll pos
var scrollf=0         //freecam scroll pos x
var scrollp=5000      //freecam scroll pos y
var scrollc=0         //scroll current pos
var collidables = document.querySelectorAll('.collision'); //for debug
//health (from an older project)
var hp=0 //Health! Reach 0 and you die! Never gain health yet!
var abhp=0 //Absorption! Temporary extra health!
var poisontimer=0 //Poison Timer, in sec. If below is 0, subs 1 from here and hurts. If 0, no more hurting!
var poisonmstimer=60 //Poison Timer, in ms. 
//i think that's all
//oh wait, i forgot this one
var version="Platformer Test v0.1"
//for real, no more variables
var drown = setInterval(function(){
if (air==-1){
if (abhp>0){
abhp=abhp-1
} else {
air=0
if (abhp<0){
abhp+=1
hp-=1
}
hp=hp-1
if (hp==0){
died=1
}
}
}
}, 1)
function spawn(){
air=0
died=0
hp=12
spawns=spawns+1
teleportto=0
justteleported=0
document.getElementById("respawn").style="display: none; width: 80px; position: fixed; top: 0px; left: 75px; text-align: center;"
document.getElementById("firstspawn").style="display: none; width: 80px; left: 0px; position: relative; top: 28px; left: 62px; text-align: center;"
}
var checks = setInterval(function(){
if (reveal1==1){
fakewallz = document.querySelectorAll('.fakewall');
fakewallz.forEach(existingelement => {
  existingelement.style.opacity=0
  });
} else if (reveal1==0) {
fakewallz = document.querySelectorAll('.fakewall');
fakewallz.forEach(existingelement => {
  existingelement.style.opacity=1
  });
}
if (playerxchange>1 && inwater==1){
if (playerxchange>1 && walking==1){
momentum=0
playerxchange=1
} else {
momentum=0
playerxchange=1
}
} else if (playerxchange<-1 && inwater==1){
if (playerxchange<-1 && walking==1){
momentum=0
playerxchange=-1
} else {
momentum=0
playerxchange=-1
}
}
if (playerychange>2 && inwater==1){
playerychange=2
} else if (playerychange<-4 && inwater==1){
playerychange=-4
} else if (playerychange>=10){
playerychange=10
}
playeropps=playersize/((playersize)/(playersize/(playersize*playersize)))
if (playery>=10000){
playery=60
}
if (playery<=0){
playery=9950
}
if (scrolld==-1){
scrollf=scrollf-4
window.scrollTo((scrollc+scrollf), scrollp)
}
if (scrolld==1){
scrollf=scrollf+4
window.scrollTo((scrollc+scrollf), scrollp)
} 
if (scrolld==-2){
scrollp=scrollp-4
window.scrollTo((scrollc+scrollf), scrollp)
} 
if (scrolld==2){
scrollp=scrollp+4
window.scrollTo((scrollc+scrollf), scrollp)
}
screenw=document.documentElement.clientWidth 
screenh=document.documentElement.clientHeight
portal1x=document.getElementById("playerportal1").offsetLeft
portal1y=document.getElementById("playerportal1").offsetTop
portal2x=document.getElementById("playerportal2").offsetLeft
portal2y=document.getElementById("playerportal2").offsetTop
spawnx=document.getElementById("playerspawn").offsetLeft
spawny=document.getElementById("playerspawn").offsetTop
if (justteleported==0 && teleporta==1 && teleportb==1){
if (portaltouched=="portalno1a" || portaltouched=="portalno1b"){
teleportto=2
justteleported=1
} else if (portaltouched=="portalno2a" || portaltouched=="portalno2b"){
teleportto=1
justteleported=1
}
} else if (teleporta==0 && teleportb==0){
justteleported=0
}
if (teleportto==0){
playerx=spawnx+12
playery=spawny+(77-(10*playeropps))
teleportto=-1
} else if (teleportto==1){
playerx=portal1x+12
playery=portal1y+(77-(10*playeropps))
teleportto=-1
} else if (teleportto==2){
playerx=portal2x+12
playery=portal2y+(77-(10*playeropps))
teleportto=-1
}
if (jumpgrav==0){
isjumping=0
}
if (playerheld==1){
nograv=1
playerychange=0
moving=0
momentum=0
playerxchange=0
}
if (died==1){
if (neverdie==0){
moving=0
momentum=0
if (spawns!=0) {
document.getElementById("respawn").style="display: block; width: 80px; position: fixed; top: 0px; left: 75px; text-align: center;"
}
if (autospawn==1 && spawns==0){
spawn()
}
}
} else {
gravity=(1*playersize)
}
if (spawns==0){
document.getElementById("firstspawn").style="display: inline-block; width: 80px; left: 0px; position: relative; top: 28px; left: 62px; text-align: center;"
}
if (debug==1){
document.getElementById("portalno1a").style.opacity=1
document.getElementById("portalno1b").style.opacity=1
document.getElementById("portalno2a").style.opacity=1
document.getElementById("portalno2b").style.opacity=1
document.getElementById("debug1").style.opacity=1
document.getElementById("debug2").style.opacity=1
document.getElementById("debug3").style.opacity=1
document.getElementById("debug4").style.opacity=1
document.getElementById("debug5").style.opacity=1
document.getElementById("playerleftcollision").style.opacity=1
document.getElementById("playerrightcollision").style.opacity=1
document.getElementById("playergroundcollision").style.opacity=1
document.getElementById("playerceilingcollision").style.opacity=1
document.getElementById("playerwalkcollision").style.opacity=1
collidables = document.querySelectorAll('.hitbox');
collidables.forEach(existingelement => {
  existingelement.style.opacity=1
})
document.getElementById("speeddis").style.opacity=1
document.getElementById("movingdis").style.opacity=1
document.getElementById("movingdis").innerText=walking
document.getElementById("speeddis").innerText=playerxchange
if (died==1){
document.getElementById("speeddis").style.opacity=0
document.getElementById("movingdis").style.opacity=0
} else {
document.getElementById("speeddis").style.opacity=1
document.getElementById("movingdis").style.opacity=1
}
} else {
document.getElementById("speeddis").style.opacity=0
document.getElementById("movingdis").style.opacity=0
document.getElementById("portalno1a").style.opacity=0
document.getElementById("portalno1b").style.opacity=0
document.getElementById("portalno2a").style.opacity=0
document.getElementById("portalno2b").style.opacity=0
document.getElementById("debug1").style.opacity=0
document.getElementById("debug2").style.opacity=0
document.getElementById("debug3").style.opacity=0
document.getElementById("debug4").style.opacity=0
document.getElementById("debug5").style.opacity=0
document.getElementById("playerleftcollision").style.opacity=0
document.getElementById("playerrightcollision").style.opacity=0
document.getElementById("playergroundcollision").style.opacity=0
document.getElementById("playerceilingcollision").style.opacity=0
document.getElementById("playerwalkcollision").style.opacity=0
collidables = document.querySelectorAll('.hitbox');
collidables.forEach(existingelement => {
  existingelement.style.opacity=0
  });
}
}, 10)
var pageScroll = setInterval(function() {
if (plylasx != playerx && playerheld==0){
plyxchg=playerx-plylasx
plylasx=playerx
scrolle=(((scrolle+plyxchg)-(screenw/2))+(10*playersize))
window.scrollTo((scrolle+scrollf), scrollp)
scrollc=scrolle
scrolle=scrolle+(screenw/2)
scrolle=scrolle-(10*playersize)
plyxchg=0
}
}, 1)
var gravmath = setInterval (function(){
if (playercolliding==0){
if (playerychange!=-64 && nograv==0){
playerychange=playerychange+((0.1*gravity)-jumpgrav)
if (jumpgrav!=0){
jumpgrav=jumpgrav-1
}
}
} else {
playerychange=0
}
}, 10)
var xychange = setInterval (function(){
playerw=document.getElementById("player").clientWidth
playerh=document.getElementById("player").clientHeight
playerx=playerx+playerxchange
playery=playery+playerychange
//if (screenh>playery){
//document.getElementById("playerinvdown").style="position: fixed; z-index: 1000000; left: "+playerx+"px; top: "+playery+"px;"
//} else {
//document.getElementById("playerinvdown").style="position: fixed; z-index: -1000000; left: "+playerx+"px; top: "+playery+"px;"
//}
if (spawns!=0){
document.getElementById("player").style="transform: scale("+playersize+", "+playersize+"); z-index: 999; display: inline-block; width: 20px; height: 20px; background-color: #000000; position: absolute; left: "+playerx+"px; top: "+playery+"px;"
document.getElementById("detectportal").style="border: 1px solid #FFFF00; opacity: "+debug+"; position: absolute; z-index: 1000; opacity: 50%; display: inline-block; width: 18px; height: 18px; position: absolute; left: "+playerx+"px; top: "+(playery-((10*playersize)-(10/(playeropps/playersize))))+"px;"
} else if (spawns>=0){
document.getElementById("player").style="transform: scale("+playersize+", "+playersize+"); z-index: 1000; opacity: 25%; display: inline-block; width: 20px; height: 20px; background-color: transparent; position: absolute; left: "+playerx+"px; top: "+playery+"px;"
document.getElementById("detectportal").style="border: 1px solid #FFFF00; "+debug+"; position: absolute; z-index: 1000; opacity: 50%; display: inline-block; width: 18px; height: 18px; position: absolute; left: "+playerx+"px; top: "+(playery-((10*playersize)-(10/(playeropps/playersize))))+"px;"
}
}, 10)
var detectOverlap = (function () {
    function getPositions(elem) {
        var pos = elem.getBoundingClientRect();
        return [[pos.left, pos.right], [pos.top, pos.bottom]];
    }

    function comparePositions(p1, p2) {
        var r1, r2;
        if (p1[0] < p2[0]) {
          r1 = p1;
          r2 = p2;
        } else {
          r1 = p2;
          r2 = p1;
        }
        return r1[1] > r2[0] || r1[0] === r2[0];
    }

    return function (a, b) {
        var pos1 = getPositions(a),
            pos2 = getPositions(b);
        return comparePositions(pos1[0], pos2[0]) && comparePositions(pos1[1], pos2[1]);
    };
})();
var boxes = document.querySelectorAll('.collision');
var player = document.getElementById("player")
function clickHandler2(e) {
    
    var elem     = e,
        elems    = document.querySelectorAll('.playarea'),
        elemList = Array.prototype.slice.call(elems),
        within   = elemList.indexOf(elem),
        touching = [];
    if (within !== -1) {
        elemList.splice(within, 1);
    }
    for (var i = 0; i < elemList.length; i++) {
        if (detectOverlap(elem, elemList[i])) {
            touching.push(elemList[i].id);
        }
    }
    if (touching.length) {
        } else {
        if (playerheld==0){
        if (neverdie==0){
        poisontimer=1
        }
        }
        }
    }
function clickHandlerleftwall() {
    
    var elem     = document.getElementById("playerleftcollision"),
        elems    = document.querySelectorAll('.hitbox'),
        elemList = Array.prototype.slice.call(elems),
        within   = elemList.indexOf(elem),
        touching = [];
    if (within !== -1) {
        elemList.splice(within, 1);
    }
    for (var i = 0; i < elemList.length; i++) {
        if (detectOverlap(elem, elemList[i])) {
            touching.push(elemList[i].id);
        }
    }
    if (touching.length) {
    		leftinwall=1
        } else {
        leftinwall=0
        }
    }
    function clickHandlerfakewall() {
    
    var elem     = document.getElementById("player"),
        elems    = document.querySelectorAll('.fakewall'),
        elemList = Array.prototype.slice.call(elems),
        within   = elemList.indexOf(elem),
        touching = [];
    if (within !== -1) {
        elemList.splice(within, 1);
    }
    for (var i = 0; i < elemList.length; i++) {
        if (detectOverlap(elem, elemList[i])) {
            touching.push(elemList[i].id);
        }
    }
    if (touching.length) {
    		reveal1=1
        } else {
        reveal1=0
        }
    }
function clickHandlerrightwall() {
    
    var elem     = document.getElementById("playerrightcollision"),
        elems    = document.querySelectorAll('.hitbox'),
        elemList = Array.prototype.slice.call(elems),
        within   = elemList.indexOf(elem),
        touching = [];
    if (within !== -1) {
        elemList.splice(within, 1);
    }
    for (var i = 0; i < elemList.length; i++) {
        if (detectOverlap(elem, elemList[i])) {
            touching.push(elemList[i].id);
        }
    }
    if (touching.length) {
    		rightinwall=1
        } else {
        rightinwall=0
        }
    }
function clickHandlerground() {
    
    var elem     = document.getElementById("playergroundcollision"),
        elems    = document.querySelectorAll('.hitbox'),
        elemList = Array.prototype.slice.call(elems),
        within   = elemList.indexOf(elem),
        touching = [];
    if (within !== -1) {
        elemList.splice(within, 1);
    }
    for (var i = 0; i < elemList.length; i++) {
        if (detectOverlap(elem, elemList[i])) {
            touching.push(elemList[i].id);
        }
    }
    if (touching.length) {
    		downinwall=1
        } else {
        downinwall=0
        }
    }
function clickHandlerceiling() {
    
    var elem     = document.getElementById("playerceilingcollision"),
        elems    = document.querySelectorAll('.hitbox'),
        elemList = Array.prototype.slice.call(elems),
        within   = elemList.indexOf(elem),
        touching = [];
    if (within !== -1) {
        elemList.splice(within, 1);
    }
    for (var i = 0; i < elemList.length; i++) {
        if (detectOverlap(elem, elemList[i])) {
            touching.push(elemList[i].id);
        }
    }
    if (touching.length) {
    		upinwall=1
        jumpgrav=0
        playerychange=0
        } else {
        upinwall=0
        }
    }
    function clickHandlerwalk() {
    
    var elem     = document.getElementById("playerwalkcollision"),
        elems    = document.querySelectorAll('.hitbox'),
        elemList = Array.prototype.slice.call(elems),
        within   = elemList.indexOf(elem),
        touching = [];
    if (within !== -1) {
        elemList.splice(within, 1);
    }
    for (var i = 0; i < elemList.length; i++) {
        if (detectOverlap(elem, elemList[i])) {
            touching.push(elemList[i].id);
        }
    }
    if (touching.length) {
    		walking=1
        } else {
        walking=0
        }
    }
    function clickHandlerwater() {
    
    var elem     = document.getElementById("playergroundcollision"),
        elems    = document.querySelectorAll('.water'),
        elemList = Array.prototype.slice.call(elems),
        within   = elemList.indexOf(elem),
        touching = [];
    if (within !== -1) {
        elemList.splice(within, 1);
    }
    for (var i = 0; i < elemList.length; i++) {
        if (detectOverlap(elem, elemList[i])) {
            touching.push(elemList[i].id);
        }
    }
    if (touching.length) {
    		inwater=1
        } else {
        inwater=0
        }
    }
    function jumpornope(e) {
    
    var elem     = document.getElementById("playerwalkcollision"),
        elems    = document.querySelectorAll('.collision'),
        elemList = Array.prototype.slice.call(elems),
        within   = elemList.indexOf(elem),
        touching = [];
    if (within !== -1) {
        elemList.splice(within, 1);
    }
    for (var i = 0; i < elemList.length; i++) {
        if (detectOverlap(elem, elemList[i])) {
            touching.push(elemList[i].id);
            touching.left
            lasttouched="document.getElementById('"+touching+"')"
        }
    }
    if (touching.length) {
    		canjump=1
        } else {
        if (touching=="water"){
        canjump=1
        } else {
        canjump=0
        }
        }
    }
    function clickHandler(e) {
    
    var elem     = e,
        elems    = document.querySelectorAll('.collision'),
        elemList = Array.prototype.slice.call(elems),
        within   = elemList.indexOf(elem),
        touching = [];
    if (within !== -1) {
        elemList.splice(within, 1);
    }
    for (var i = 0; i < elemList.length; i++) {
        if (detectOverlap(elem, elemList[i])) {
            touching.push(elemList[i].id);
            touching.left
            lasttouched="document.getElementById('"+touching+"')"
        }
    }
    if (touching.length) {
    		playercolliding=1
        } else {
        if (touching=="water"){
        playercolliding=1
        } else {
        playercolliding=0
        }
        }
    }
    function portalaHandler() {
    
    var elem     = document.getElementById("detectportal"),
        elems    = document.querySelectorAll('.teleportera'),
        elemList = Array.prototype.slice.call(elems),
        within   = elemList.indexOf(elem),
        touching = [];
    if (within !== -1) {
        elemList.splice(within, 1);
    }
    for (var i = 0; i < elemList.length; i++) {
        if (detectOverlap(elem, elemList[i])) {
            touching.push(elemList[i].id);
            touching.left
            portaltouched=touching
        }
    }
    if (touching.length) {
        teleporta=1
        } else {
				teleporta=0
        }
    }
    function portalbHandler() {
    
    var elem     = document.getElementById("player"),
        elems    = document.querySelectorAll('.teleporterb'),
        elemList = Array.prototype.slice.call(elems),
        within   = elemList.indexOf(elem),
        touching = [];
    if (within !== -1) {
        elemList.splice(within, 1);
    }
    for (var i = 0; i < elemList.length; i++) {
        if (detectOverlap(elem, elemList[i])) {
            touching.push(elemList[i].id);
            touching.left
            portaltouched=touching
        }
    }
    if (touching.length) {
        teleportb=1
        } else {
				teleportb=0
        }
    }
document.body.addEventListener('mousemove', cursorpos);
document.body.addEventListener('mousedown', holdplayer);
document.body.addEventListener('mouseup', dropplayer);
document.body.addEventListener('keydown', momentumon1);
document.body.addEventListener('keyup', momentumoff);
function cursorpos(e){
  cursorx = e.clientX;
  cursory = e.clientY;
}
function holdplayer(e){
if (e.target.id=="player" && debug == 1){
pickpos=playerx
nograv=1
playerheld=1
}
}
function dropplayer(e){
if (e.target.id=="player"){
pickpos=0
nograv=0
playerheld=0
}
}
function momentumon1(e){
if (e.keyCode==65 && died==0 && playerheld==0){
moving=-1
} else if (e.keyCode==68 && died==0 && playerheld==0){
moving=1
} else if (e.keyCode==32 && died==0 && playerheld==0){
if (isjumping==0 || inwater==1){
if (canjump==1 || inwater==1){
if (inwater==1){
jumpgrav=2
isjumping=1
} else {
jumpgrav=2
isjumping=1
}
}
}
} else if (e.keyCode==37){
scrolld=-1
} else if (e.keyCode==38){
scrolld=-2
} else if (e.keyCode==39){
scrolld=1
} else if (e.keyCode==40){
scrolld=2
} else {
}
}
function momentumoff(e){
if (e.keyCode==65 && died==0 && playerheld==0){
moving=0
} else if (e.keyCode==68 && died==0 && playerheld==0){
moving=0
} else if (e.keyCode==37){
scrolld=0
} else if (e.keyCode==38){
scrolld=0
} else if (e.keyCode==39){
scrolld=0
} else if (e.keyCode==40){
scrolld=0
}
}
var momentumcalc = setInterval(function(){
playerxchange=playerxchange + (momentum/(debugspeed/playersize))
}, 10)
var momentumtime = setInterval(function(){
if (moving==1 && momentum < 0.5){
momentum+=(0.5/(inwater+1))
} else if (moving==-1 && momentum > -0.5){
momentum-=(0.5/(inwater+1))
} else if (moving==0 && momentum > 0.5){
momentum-=(0.5/(inwater+1))
} else if (moving==0 && momentum < -0.5){
momentum+=(0.5/(inwater+1))
} else if (moving==0) {
momentum=0
if (playerxchange>0.1 && playerxchange != 0 && moving==0){
playerxchange=playerxchange-(0.1/(inwater+1))
} else if (playerxchange<-0.1 && playerxchange != 0 && moving==0){
playerxchange=playerxchange+(0.1/(inwater+1))
}
if (playerxchange<=0.1 && playerxchange>=-0.1 && moving==0){
playerxchange=0
}
}
}, 25)
var collidetime = setInterval(function(){
if (playercolliding==1){
gravity=0
} else {
gravity=(1*playersize)
}
}, 1)
var collisioncheck = setInterval(function(){
clickHandlerwater()
portalaHandler()
portalbHandler()
jumpornope()
clickHandlerwalk()
clickHandler(detectportal)
clickHandler2(player)
clickHandlerground()
clickHandlerleftwall()
clickHandlerfakewall()
clickHandlerrightwall()
clickHandlerceiling()
if (upinwall==1 && downinwall==1 && leftinwall==1 && rightinwall==1){
fullyinsidewall=1
} else {
fullyinsidewall=0
if (upinwall==1 && playerheld==0){
playery=playery+0.25
jumpgrav=0
}
if (downinwall==1 && playerheld==0){
playery=playery-0.25
jumpgrav=0
}
if (leftinwall==1 && playerheld==0){
playerxchange=0.1
momentum=0
}
if (rightinwall==1 && playerheld==0){
playerxchange=-0.1
momentum=0
}
}
}, 1)
var playercursor = setInterval(function(){
if (playerheld==1){
playerx=(pickpos-(screenw/2))+cursorx
playery=cursory-10
}
}, 1)
var perish = setInterval(function failure(){
if (died==1){
poisontimer=0
poisonmstimer=0
hp=0
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="transparent"
document.getElementById("ABSHEART10").style.fill="transparent"
document.getElementById("ABSHEART9").style.fill="transparent"
document.getElementById("ABSHEART8").style.fill="transparent"
document.getElementById("ABSHEART7").style.fill="transparent"
document.getElementById("ABSHEART6").style.fill="transparent"
document.getElementById("ABSHEART5").style.fill="transparent"
document.getElementById("ABSHEART4").style.fill="transparent"
document.getElementById("ABSHEART3").style.fill="transparent"
document.getElementById("ABSHEART2").style.fill="transparent"
document.getElementById("ABSHEART1").style.fill="transparent"
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#000000"
document.getElementById("HEART10").style.fill="#000000"
document.getElementById("HEART9").style.fill="#000000"
document.getElementById("HEART8").style.fill="#000000"
document.getElementById("HEART7").style.fill="#000000"
document.getElementById("HEART6").style.fill="#000000"
document.getElementById("HEART5").style.fill="#000000"
document.getElementById("HEART4").style.fill="#000000"
document.getElementById("HEART3").style.fill="#000000"
document.getElementById("HEART2").style.fill="#000000"
document.getElementById("HEART1").style.fill="#000000"
}
}, 1)
var debughealth = setInterval(function debug(){
if (abhp>10 && abhp<=12){
document.getElementById("timer123").style="position: fixed; left: 149px; top: 2px;"
} else if (abhp>8 && abhp<=10){
document.getElementById("timer123").style="position: fixed; left: 137px; top: 2px;"
} else if (abhp>6 && abhp<=8){
document.getElementById("timer123").style="position: fixed; left: 125px; top: 2px;"
} else if (abhp>4 && abhp<=6){
document.getElementById("timer123").style="position: fixed; left: 113px; top: 2px;"
} else if (abhp>2 && abhp<=4){
document.getElementById("timer123").style="position: fixed; left: 101px; top: 2px;"
} else if (abhp>0 && abhp<=2){
document.getElementById("timer123").style="position: fixed; left: 89px; top: 2px;"
} else {
document.getElementById("timer123").style="position: fixed; left: 77px; top: 2px;"
}
document.getElementById("debug0").innerText=version
document.getElementById("debug1").innerText=hp+"/12"
document.getElementById("debug2").innerText=abhp+"/12"
document.getElementById("debug3").innerText=died
if (poisontimer !== 0){
document.getElementById("timer123").innerText="Poison: "+poisontimer+"s"
document.getElementById("debug4").innerText="true"
document.getElementById("debug5").innerText=poisonmstimer+"x"+poisontimer
} else {
document.getElementById("timer123").innerText=""
document.getElementById("debug4").innerText="false"
document.getElementById("debug5").innerText=""
}
})
var poison = setInterval(function poisoned(){
if (poisontimer!=0 && poisonmstimer>=1){
poisonmstimer=poisonmstimer-1
}
if (poisonmstimer<1 && poisontimer>0){
poisontimer=poisontimer-1
poisonmstimer=60
if (abhp!=0){
abhp=abhp-1
} else {
hp=hp-1
if (hp==0){
died=1
poisontimer=0
poisonmstimer=60
}
}
} else if (poisontimer==0){
document.getElementById("timer123").innerText=""
}
}, 1)
var health = setInterval(function (){
if (hp>=12){
document.getElementById("HEART12").style.fill="#FF0000"
document.getElementById("HEART11").style.fill="#FF0000"
document.getElementById("HEART10").style.fill="#FF0000"
document.getElementById("HEART9").style.fill="#FF0000"
document.getElementById("HEART8").style.fill="#FF0000"
document.getElementById("HEART7").style.fill="#FF0000"
document.getElementById("HEART6").style.fill="#FF0000"
document.getElementById("HEART5").style.fill="#FF0000"
document.getElementById("HEART4").style.fill="#FF0000"
document.getElementById("HEART3").style.fill="#FF0000"
document.getElementById("HEART2").style.fill="#FF0000"
document.getElementById("HEART1").style.fill="#FF0000"
} else if (hp==11){
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#FF0000"
document.getElementById("HEART10").style.fill="#FF0000"
document.getElementById("HEART9").style.fill="#FF0000"
document.getElementById("HEART8").style.fill="#FF0000"
document.getElementById("HEART7").style.fill="#FF0000"
document.getElementById("HEART6").style.fill="#FF0000"
document.getElementById("HEART5").style.fill="#FF0000"
document.getElementById("HEART4").style.fill="#FF0000"
document.getElementById("HEART3").style.fill="#FF0000"
document.getElementById("HEART2").style.fill="#FF0000"
document.getElementById("HEART1").style.fill="#FF0000"
} else if (hp==10){
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#000000"
document.getElementById("HEART10").style.fill="#FF0000"
document.getElementById("HEART9").style.fill="#FF0000"
document.getElementById("HEART8").style.fill="#FF0000"
document.getElementById("HEART7").style.fill="#FF0000"
document.getElementById("HEART6").style.fill="#FF0000"
document.getElementById("HEART5").style.fill="#FF0000"
document.getElementById("HEART4").style.fill="#FF0000"
document.getElementById("HEART3").style.fill="#FF0000"
document.getElementById("HEART2").style.fill="#FF0000"
document.getElementById("HEART1").style.fill="#FF0000"
} else if (hp==9){
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#000000"
document.getElementById("HEART10").style.fill="#000000"
document.getElementById("HEART9").style.fill="#FF0000"
document.getElementById("HEART8").style.fill="#FF0000"
document.getElementById("HEART7").style.fill="#FF0000"
document.getElementById("HEART6").style.fill="#FF0000"
document.getElementById("HEART5").style.fill="#FF0000"
document.getElementById("HEART4").style.fill="#FF0000"
document.getElementById("HEART3").style.fill="#FF0000"
document.getElementById("HEART2").style.fill="#FF0000"
document.getElementById("HEART1").style.fill="#FF0000"
} else if (hp==8){
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#000000"
document.getElementById("HEART10").style.fill="#000000"
document.getElementById("HEART9").style.fill="#000000"
document.getElementById("HEART8").style.fill="#FF0000"
document.getElementById("HEART7").style.fill="#FF0000"
document.getElementById("HEART6").style.fill="#FF0000"
document.getElementById("HEART5").style.fill="#FF0000"
document.getElementById("HEART4").style.fill="#FF0000"
document.getElementById("HEART3").style.fill="#FF0000"
document.getElementById("HEART2").style.fill="#FF0000"
document.getElementById("HEART1").style.fill="#FF0000"
} else if (hp==7){
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#000000"
document.getElementById("HEART10").style.fill="#000000"
document.getElementById("HEART9").style.fill="#000000"
document.getElementById("HEART8").style.fill="#000000"
document.getElementById("HEART7").style.fill="#FF0000"
document.getElementById("HEART6").style.fill="#FF0000"
document.getElementById("HEART5").style.fill="#FF0000"
document.getElementById("HEART4").style.fill="#FF0000"
document.getElementById("HEART3").style.fill="#FF0000"
document.getElementById("HEART2").style.fill="#FF0000"
document.getElementById("HEART1").style.fill="#FF0000"
} else if (hp==6){
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#000000"
document.getElementById("HEART10").style.fill="#000000"
document.getElementById("HEART9").style.fill="#000000"
document.getElementById("HEART8").style.fill="#000000"
document.getElementById("HEART7").style.fill="#000000"
document.getElementById("HEART6").style.fill="#FF0000"
document.getElementById("HEART5").style.fill="#FF0000"
document.getElementById("HEART4").style.fill="#FF0000"
document.getElementById("HEART3").style.fill="#FF0000"
document.getElementById("HEART2").style.fill="#FF0000"
document.getElementById("HEART1").style.fill="#FF0000"
} else if (hp==5){
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#000000"
document.getElementById("HEART10").style.fill="#000000"
document.getElementById("HEART9").style.fill="#000000"
document.getElementById("HEART8").style.fill="#000000"
document.getElementById("HEART7").style.fill="#000000"
document.getElementById("HEART6").style.fill="#000000"
document.getElementById("HEART5").style.fill="#FF0000"
document.getElementById("HEART4").style.fill="#FF0000"
document.getElementById("HEART3").style.fill="#FF0000"
document.getElementById("HEART2").style.fill="#FF0000"
document.getElementById("HEART1").style.fill="#FF0000"
} else if (hp==4){
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#000000"
document.getElementById("HEART10").style.fill="#000000"
document.getElementById("HEART9").style.fill="#000000"
document.getElementById("HEART8").style.fill="#000000"
document.getElementById("HEART7").style.fill="#000000"
document.getElementById("HEART6").style.fill="#000000"
document.getElementById("HEART5").style.fill="#000000"
document.getElementById("HEART4").style.fill="#FF0000"
document.getElementById("HEART3").style.fill="#FF0000"
document.getElementById("HEART2").style.fill="#FF0000"
document.getElementById("HEART1").style.fill="#FF0000"
} else if (hp==3){
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#000000"
document.getElementById("HEART10").style.fill="#000000"
document.getElementById("HEART9").style.fill="#000000"
document.getElementById("HEART8").style.fill="#000000"
document.getElementById("HEART7").style.fill="#000000"
document.getElementById("HEART6").style.fill="#000000"
document.getElementById("HEART5").style.fill="#000000"
document.getElementById("HEART4").style.fill="#000000"
document.getElementById("HEART3").style.fill="#FF0000"
document.getElementById("HEART2").style.fill="#FF0000"
document.getElementById("HEART1").style.fill="#FF0000"
} else if (hp==2){
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#000000"
document.getElementById("HEART10").style.fill="#000000"
document.getElementById("HEART9").style.fill="#000000"
document.getElementById("HEART8").style.fill="#000000"
document.getElementById("HEART7").style.fill="#000000"
document.getElementById("HEART6").style.fill="#000000"
document.getElementById("HEART5").style.fill="#000000"
document.getElementById("HEART4").style.fill="#000000"
document.getElementById("HEART3").style.fill="#000000"
document.getElementById("HEART2").style.fill="#FF0000"
document.getElementById("HEART1").style.fill="#FF0000"
} else if (hp==1){
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#000000"
document.getElementById("HEART10").style.fill="#000000"
document.getElementById("HEART9").style.fill="#000000"
document.getElementById("HEART8").style.fill="#000000"
document.getElementById("HEART7").style.fill="#000000"
document.getElementById("HEART6").style.fill="#000000"
document.getElementById("HEART5").style.fill="#000000"
document.getElementById("HEART4").style.fill="#000000"
document.getElementById("HEART3").style.fill="#000000"
document.getElementById("HEART2").style.fill="#000000"
document.getElementById("HEART1").style.fill="#FF0000"
} else if (hp==0){
document.getElementById("HEART12").style.fill="#000000"
document.getElementById("HEART11").style.fill="#000000"
document.getElementById("HEART10").style.fill="#000000"
document.getElementById("HEART9").style.fill="#000000"
document.getElementById("HEART8").style.fill="#000000"
document.getElementById("HEART7").style.fill="#000000"
document.getElementById("HEART6").style.fill="#000000"
document.getElementById("HEART5").style.fill="#000000"
document.getElementById("HEART4").style.fill="#000000"
document.getElementById("HEART3").style.fill="#000000"
document.getElementById("HEART2").style.fill="#000000"
document.getElementById("HEART1").style.fill="#000000"
}
if (abhp==12){
document.getElementById("ABSHEART12").style.fill="#FFFF00"
document.getElementById("ABSHEART11").style.fill="#FFFF00"
document.getElementById("ABSHEART10").style.fill="#FFFF00"
document.getElementById("ABSHEART9").style.fill="#FFFF00"
document.getElementById("ABSHEART8").style.fill="#FFFF00"
document.getElementById("ABSHEART7").style.fill="#FFFF00"
document.getElementById("ABSHEART6").style.fill="#FFFF00"
document.getElementById("ABSHEART5").style.fill="#FFFF00"
document.getElementById("ABSHEART4").style.fill="#FFFF00"
document.getElementById("ABSHEART3").style.fill="#FFFF00"
document.getElementById("ABSHEART2").style.fill="#FFFF00"
document.getElementById("ABSHEART1").style.fill="#FFFF00"
} else if (abhp==11){
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="#FFFF00"
document.getElementById("ABSHEART10").style.fill="#FFFF00"
document.getElementById("ABSHEART9").style.fill="#FFFF00"
document.getElementById("ABSHEART8").style.fill="#FFFF00"
document.getElementById("ABSHEART7").style.fill="#FFFF00"
document.getElementById("ABSHEART6").style.fill="#FFFF00"
document.getElementById("ABSHEART5").style.fill="#FFFF00"
document.getElementById("ABSHEART4").style.fill="#FFFF00"
document.getElementById("ABSHEART3").style.fill="#FFFF00"
document.getElementById("ABSHEART2").style.fill="#FFFF00"
document.getElementById("ABSHEART1").style.fill="#FFFF00"
} else if (abhp==10){
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="transparent"
document.getElementById("ABSHEART10").style.fill="#FFFF00"
document.getElementById("ABSHEART9").style.fill="#FFFF00"
document.getElementById("ABSHEART8").style.fill="#FFFF00"
document.getElementById("ABSHEART7").style.fill="#FFFF00"
document.getElementById("ABSHEART6").style.fill="#FFFF00"
document.getElementById("ABSHEART5").style.fill="#FFFF00"
document.getElementById("ABSHEART4").style.fill="#FFFF00"
document.getElementById("ABSHEART3").style.fill="#FFFF00"
document.getElementById("ABSHEART2").style.fill="#FFFF00"
document.getElementById("ABSHEART1").style.fill="#FFFF00"
} else if (abhp==9){
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="transparent"
document.getElementById("ABSHEART10").style.fill="transparent"
document.getElementById("ABSHEART9").style.fill="#FFFF00"
document.getElementById("ABSHEART8").style.fill="#FFFF00"
document.getElementById("ABSHEART7").style.fill="#FFFF00"
document.getElementById("ABSHEART6").style.fill="#FFFF00"
document.getElementById("ABSHEART5").style.fill="#FFFF00"
document.getElementById("ABSHEART4").style.fill="#FFFF00"
document.getElementById("ABSHEART3").style.fill="#FFFF00"
document.getElementById("ABSHEART2").style.fill="#FFFF00"
document.getElementById("ABSHEART1").style.fill="#FFFF00"
} else if (abhp==8){
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="transparent"
document.getElementById("ABSHEART10").style.fill="transparent"
document.getElementById("ABSHEART9").style.fill="transparent"
document.getElementById("ABSHEART8").style.fill="#FFFF00"
document.getElementById("ABSHEART7").style.fill="#FFFF00"
document.getElementById("ABSHEART6").style.fill="#FFFF00"
document.getElementById("ABSHEART5").style.fill="#FFFF00"
document.getElementById("ABSHEART4").style.fill="#FFFF00"
document.getElementById("ABSHEART3").style.fill="#FFFF00"
document.getElementById("ABSHEART2").style.fill="#FFFF00"
document.getElementById("ABSHEART1").style.fill="#FFFF00"
} else if (abhp==7){
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="transparent"
document.getElementById("ABSHEART10").style.fill="transparent"
document.getElementById("ABSHEART9").style.fill="transparent"
document.getElementById("ABSHEART8").style.fill="transparent"
document.getElementById("ABSHEART7").style.fill="#FFFF00"
document.getElementById("ABSHEART6").style.fill="#FFFF00"
document.getElementById("ABSHEART5").style.fill="#FFFF00"
document.getElementById("ABSHEART4").style.fill="#FFFF00"
document.getElementById("ABSHEART3").style.fill="#FFFF00"
document.getElementById("ABSHEART2").style.fill="#FFFF00"
document.getElementById("ABSHEART1").style.fill="#FFFF00"
} else if (abhp==6){
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="transparent"
document.getElementById("ABSHEART10").style.fill="transparent"
document.getElementById("ABSHEART9").style.fill="transparent"
document.getElementById("ABSHEART8").style.fill="transparent"
document.getElementById("ABSHEART7").style.fill="transparent"
document.getElementById("ABSHEART6").style.fill="#FFFF00"
document.getElementById("ABSHEART5").style.fill="#FFFF00"
document.getElementById("ABSHEART4").style.fill="#FFFF00"
document.getElementById("ABSHEART3").style.fill="#FFFF00"
document.getElementById("ABSHEART2").style.fill="#FFFF00"
document.getElementById("ABSHEART1").style.fill="#FFFF00"
} else if (abhp==5){
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="transparent"
document.getElementById("ABSHEART10").style.fill="transparent"
document.getElementById("ABSHEART9").style.fill="transparent"
document.getElementById("ABSHEART8").style.fill="transparent"
document.getElementById("ABSHEART7").style.fill="transparent"
document.getElementById("ABSHEART6").style.fill="transparent"
document.getElementById("ABSHEART5").style.fill="#FFFF00"
document.getElementById("ABSHEART4").style.fill="#FFFF00"
document.getElementById("ABSHEART3").style.fill="#FFFF00"
document.getElementById("ABSHEART2").style.fill="#FFFF00"
document.getElementById("ABSHEART1").style.fill="#FFFF00"
} else if (abhp==4){
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="transparent"
document.getElementById("ABSHEART10").style.fill="transparent"
document.getElementById("ABSHEART9").style.fill="transparent"
document.getElementById("ABSHEART8").style.fill="transparent"
document.getElementById("ABSHEART7").style.fill="transparent"
document.getElementById("ABSHEART6").style.fill="transparent"
document.getElementById("ABSHEART5").style.fill="transparent"
document.getElementById("ABSHEART4").style.fill="#FFFF00"
document.getElementById("ABSHEART3").style.fill="#FFFF00"
document.getElementById("ABSHEART2").style.fill="#FFFF00"
document.getElementById("ABSHEART1").style.fill="#FFFF00"
} else if (abhp==3){
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="transparent"
document.getElementById("ABSHEART10").style.fill="transparent"
document.getElementById("ABSHEART9").style.fill="transparent"
document.getElementById("ABSHEART8").style.fill="transparent"
document.getElementById("ABSHEART7").style.fill="transparent"
document.getElementById("ABSHEART6").style.fill="transparent"
document.getElementById("ABSHEART5").style.fill="transparent"
document.getElementById("ABSHEART4").style.fill="transparent"
document.getElementById("ABSHEART3").style.fill="#FFFF00"
document.getElementById("ABSHEART2").style.fill="#FFFF00"
document.getElementById("ABSHEART1").style.fill="#FFFF00"
} else if (abhp==2){
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="transparent"
document.getElementById("ABSHEART10").style.fill="transparent"
document.getElementById("ABSHEART9").style.fill="transparent"
document.getElementById("ABSHEART8").style.fill="transparent"
document.getElementById("ABSHEART7").style.fill="transparent"
document.getElementById("ABSHEART6").style.fill="transparent"
document.getElementById("ABSHEART5").style.fill="transparent"
document.getElementById("ABSHEART4").style.fill="transparent"
document.getElementById("ABSHEART3").style.fill="transparent"
document.getElementById("ABSHEART2").style.fill="#FFFF00"
document.getElementById("ABSHEART1").style.fill="#FFFF00"
} else if (abhp==1){
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="transparent"
document.getElementById("ABSHEART10").style.fill="transparent"
document.getElementById("ABSHEART9").style.fill="transparent"
document.getElementById("ABSHEART8").style.fill="transparent"
document.getElementById("ABSHEART7").style.fill="transparent"
document.getElementById("ABSHEART6").style.fill="transparent"
document.getElementById("ABSHEART5").style.fill="transparent"
document.getElementById("ABSHEART4").style.fill="transparent"
document.getElementById("ABSHEART3").style.fill="transparent"
document.getElementById("ABSHEART2").style.fill="transparent"
document.getElementById("ABSHEART1").style.fill="#FFFF00"
} else if (abhp==0){
document.getElementById("ABSHEART12").style.fill="transparent"
document.getElementById("ABSHEART11").style.fill="transparent"
document.getElementById("ABSHEART10").style.fill="transparent"
document.getElementById("ABSHEART9").style.fill="transparent"
document.getElementById("ABSHEART8").style.fill="transparent"
document.getElementById("ABSHEART7").style.fill="transparent"
document.getElementById("ABSHEART6").style.fill="transparent"
document.getElementById("ABSHEART5").style.fill="transparent"
document.getElementById("ABSHEART4").style.fill="transparent"
document.getElementById("ABSHEART3").style.fill="transparent"
document.getElementById("ABSHEART2").style.fill="transparent"
document.getElementById("ABSHEART1").style.fill="transparent"
}
}, 1)
var breathe = setInterval(function(){
if (inwater==1 || fullyinsidewall==1){
air=air-0.25
} else if (inwater==0 && air<75 || fullyinsidewall==1 && air<75){
if (air<0){
air=0
} else if (died==0){
air=air+2.5
if (air>75){
air=75
}
}
}
document.getElementById("airamount").style="z-index: 9999999; display: inline-block; position: fixed; height: 5px; overflow: hidden; width: 75px; top: 20px; left: "+(air-75)+"px; background-color: #008FFF"
}, 50)
</script>

